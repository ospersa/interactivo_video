var req=new XMLHttpRequest;function validateAnswer(idQ,modal){let answer;if("#q1"==idQ)answer=$(idQ+' input[name="q1"]:checked').val(),null==answer?alert("Por favor seleccione una de las opciones para poder continuar."):"l"==answer?($(modal+" .question").removeClass("animate__bounceInDown").addClass("animate__bounceOutUp"),$(modal+" .feedback").html('<div class="message"><p>Recuerda que un municipio que tiene la población superior a los 100 mil habitantes, un plan de ordenamiento territorial aprobado, en muchos casos con su estructura ecológica incorporada, es considerado de <b>alta dinámica</b>.</p><br><p>Además, este tipo de municipios tienen recursos económicos altos y una capacidad de gestión fortalecida, tienden a especializarse en comercio y servicios y, generalmente, son de categoría especial y primera</p><button class="restart btn" onclick="showQuestion(\'#modalQ1\');">reintentar</button></div>'),$(modal+" .feedback").removeClass("animate__bounceOutDown").addClass("animate__bounceInUp")):"h"==answer&&($(modal+" .question").removeClass("animate__bounceInDown").addClass("animate__bounceOutUp"),$(modal+" .feedback").html("<h2>Bien hecho</h2>"),$(modal+" .feedback").removeClass("animate__bounceOutDown").addClass("animate__bounceInUp"),setTimeout((function(){$("#modalQ1 .modal-contenido").removeClass("animate__fadeInUp").addClass("animate__fadeOutUp"),$("#modalQ1").fadeOut("slow"),$("#video").trigger("play")}),3e3));else if("#q2"==idQ){let valid=0,wrong=0;$(idQ+' input[name="q2"]:checked').each((function(){"v"==$(this).val()?valid+=1:wrong+=1})),3==valid&&0==wrong?($(modal+" .question").removeClass("animate__bounceInDown").addClass("animate__bounceOutUp"),$(modal+" .feedback").html("<h2>Bien hecho</h2>"),$(modal+" .feedback").removeClass("animate__bounceOutDown").addClass("animate__bounceInUp"),setTimeout((function(){$("#modalQ2 .modal-contenido").removeClass("animate__fadeInUp").addClass("animate__fadeOutUp"),$("#modalQ2").fadeOut("slow"),$("#video").trigger("play")}),3e3)):($(modal+" .question").removeClass("animate__bounceInDown").addClass("animate__bounceOutUp"),$(modal+" .feedback").html('<div class="message"><p>Un municipio con estas características es considerado un municipio de baja dinámica. Si sus actividades económicas están enfocadas en turismo o agricultura, puede optar por instrumento económicos de educación, por ejemplo, negocios verdes o certificaciones y sellos, lo que puede contribuir a incrementar ingresos y a la vez garantizar la conservación de la biodiversidad.</p><br><p>De esta manera, el instrumento de tarifas se puede usar para definir un valor de entrada a las áreas de conservación. Los instrumentos de tasas ambientales y planes parciales son más recomendados para aplicarse en municipios de alta dinámica.</p><button class="restart btn" onclick="showQuestion(\'#modalQ2\');">reintentar</button></div>'),$(modal+" .feedback").removeClass("animate__bounceOutDown").addClass("animate__bounceInUp"))}}function showQuestion(modal){$(modal+" .question").removeClass("animate__bounceOutUp").addClass("animate__bounceInDown"),$(modal+" .feedback").removeClass("animate__bounceInUp").addClass("animate__bounceOutDown"),$(modal+" input").each((function(){$(this).prop("checked",!1)}))}req.open("GET","assets/video/master_.webm",!0),req.responseType="blob",req.onload=function(){if(200===this.status){$(".loader").fadeOut("slow");var videoBlob=this.response,vid=URL.createObjectURL(videoBlob);video.src=vid,$(".play").css("opacity",1)}},req.onerror=function(){console.log("Se presentaron errores en la descarga del video")},req.send(),$(document).ready((function(){var textWrapper,textWrapper;(textWrapper=document.querySelector(".ml1 .letters")).innerHTML=textWrapper.textContent.replace(/\S/g,"<span class='letter'>$&</span>"),(textWrapper=document.querySelector(".ml11 .letters")).innerHTML=textWrapper.textContent.replace(/\S/g,"<span class='letter'>$&</span>");var textWrapperOptionsA=document.querySelector(".ml2 .letters");textWrapperOptionsA.innerHTML=textWrapperOptionsA.textContent.replace(/\S/g,"<span class='letter'>$&</span>");var textWrapperOptionsB=document.querySelector(".ml3 .letters");textWrapperOptionsB.innerHTML=textWrapperOptionsB.textContent.replace(/\S/g,"<span class='letter'>$&</span>");let pauseVideo=!0,video=$("#video"),firstPart=9,secondPart=50,thirdPart=85,show1=43,show2=70.5,showQ1=!1,showQ2=!1;video.prop("muted",!1),$("#play").on("click",(function(){video.trigger("play"),$(".play").fadeOut("slow")})),$("#start").on("click",(function(){video.trigger("play"),pauseVideo=!1,$(this).fadeOut()})),$(".send").on("click",(function(){let id,modal;validateAnswer($(this).data("target"),$(this).data("modal"))})),$(".restart").on("click",(function(){let id=$(this).data("target"),modal=$(this).data("modal");$(modal+" .question").removeClass("animate__bounceOutUp").addClass("animate__bounceInUp"),$(modal+" .feedback").removeClass("animate__bounceInUp").addClass("animate__bounceOutDown")})),video.on("timeupdate",(function(){let currentTime=$(this).prop("currentTime"),duration=$(this).prop("duration");currentTime>=9&&currentTime<50&&1==pauseVideo&&0==showQ1?($(this).trigger("pause"),$("#first-part").fadeIn()):currentTime>=43&&0==showQ1?(showQ1=!0,$("#btnModalQ1").click(),pauseVideo=!0,anime.timeline().add({targets:".ml1 .letter",scale:[.3,1],opacity:[0,1],translateZ:0,easing:"easeInExpo",duration:600,delay:(el,i)=>70*(i+1)}).add({targets:".ml1 .line",scaleX:[0,1],opacity:[.5,1],easing:"easeInExpo",duration:600,offset:"-=875",delay:(el,i,l)=>80*(l-i)}).add({targets:".ml2 .text-wrapper",scale:[.3,1],opacity:[0,1],translateZ:0,easing:"easeInExpo",duration:600,delay:(el,i)=>70*(i+1)}).add({targets:".ml3 .text-wrapper",scale:[.3,1],opacity:[0,1],translateZ:0,easing:"easeInExpo",duration:600,delay:(el,i)=>70*(i+1)}),setTimeout((function(){$("#s1").fadeIn("slow")}),7e3)):currentTime>=50&&1==pauseVideo&&currentTime<=70.5?($(this).trigger("pause"),pauseVideo=!1):currentTime>=70.5&&0==showQ2?(showQ2=!0,$("#btnModalQ2").click(),pauseVideo=!0,anime.timeline().add({targets:".ml11 .letter",scale:[.3,1],opacity:[0,1],translateZ:0,easing:"easeInExpo",duration:400,delay:(el,i)=>70*(i+1)}).add({targets:".ml11 .line",scaleX:[0,1],opacity:[.5,1],easing:"easeInExpo",duration:600,offset:"-=875",delay:(el,i,l)=>80*(l-i)}),$(".opt").each((function(){$(this).addClass("animate__fadeIn")})),setTimeout((function(){$("#s2").fadeIn("slow")}),15e3)):currentTime>=85&&1==pauseVideo?($(this).trigger("pause"),pauseVideo=!1):currentTime>=duration-1&&$(this).trigger("pause")})),$("#btnModalQ1").on("click",(function(){$("#modalQ1").css("display","flex"),$("#modalQ1 .modal-contenido").addClass("animate__fadeInUp")})),$("#btnModalQ2").on("click",(function(){$("#modalQ2").css("display","flex"),$("#modalQ2 .modal-contenido").addClass("animate__fadeInUp")}))}));